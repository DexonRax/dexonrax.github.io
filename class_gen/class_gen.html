<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
	<style>
		@font-face {
    		font-family: CodeFont;
    		src: url(AnonymousPro-Regular.ttf);
		}
		main {
		  flex: 1;
		}
		body{
			font-family: monospace;
			background-color: #222831;
			color: #EEEEEE;
		}
		pre{
			background-color: #393E46;
			color: #EEEEEE;
		}
		h3{
			color: #FFD369;
		}
		h2{
			color: #FFD369;
		}
		code{
			font-family: CodeFont;
		}

		button{

			display: inline-block;
			outline: 0;
			border: 0;
			cursor: pointer;
			background: #000000;
			color: #FFFFFF;
			border-radius: 8px;
			padding: 14px 24px 16px;
			margin: 10px;
			font-size: 18px;
			font-weight: 700;
			line-height: 1;
			transition: transform 200ms,background 200ms;
		}   
		button:hover{
			transform: translateY(-2px);
		} 

		a{
			color: #FFFFFF;
		}



		}             
	</style>
</head>
<body>

<hr>
<center><h2>Projekty</h2></center>
<center><a href="https://github.com/DexonRax/tablice-kms">Tablice dynamiczne</a>  -  <a href="https://github.com/DexonRax/Czasomierz">Czasomierz</a></center><br>
<hr>


<br>
<h3>Nazwy klasy i obiektu zaczynaj dużymi literami, tak się przyjęło</h3>
Class Name: <input type="text" name="classNameText" id="classNameText">
<br>
Object Name: <input type="text" name="objectNameText" id="objectNameText"> 
<br>

<button onClick="changeNames()">Submit</button>

<pre>
  <code id="mainCode">
  </code>
</pre>

<pre>
  <code id="classCode">
  </code>
</pre>



<script>
	
const copyButtonLabel = "Copy Code";

// use a class selector if available
let blocks = document.querySelectorAll("pre");

blocks.forEach((block) => {
  // only add button if browser supports Clipboard API
  if (navigator.clipboard) {
    let button = document.createElement("button");

    button.innerText = copyButtonLabel;
    block.appendChild(button);

    button.addEventListener("click", async () => {
      await copyCode(block);
    });
  }
});

async function copyCode(block) {
  let code = block.querySelector("code");
  let text = code.innerText;

  await navigator.clipboard.writeText(text);
}


let class_name = "Klasa"
let object_name = "Obiekt"

let main_libs = ""
let main_func = ""
let class_libs = ""
let class_def = ""


function genCode(class_name, object_name){
main_libs = `
//Code generated by GRM class generator
//main.cpp

#include<iostream>
#include "klasa.h"
`

main_func = `
int main(){
\t${class_name} ${object_name};
\tstd::cout<<${object_name}.x<<std::endl;
\treturn 0;
}

`


class_libs = `
//Code generated by GRM class generator
//klasa.h

#include<iostream>
`

class_def = `
class ${class_name}{
\tpublic:
\t\tint x = 1;
\t\tint y = 1;

\tpublic:
\t\t${class_name}(){ //konstruktor
\t\t\tthis->x = 3;
\t\t\tthis->y = 3;
\t\t\tstd::cout<<x<<" "<<y<<std::endl;
\t\t}

\t\t${class_name}(int x, int y){ //konstruktor z argumentami
\t\t\tthis->x = x;
\t\t\tthis->y = y;
\t\t\tstd::cout<<x<<" "<<y<<std::endl;
\t\t}

\t\t~${class_name}(){ //dekonstruktor
\t\t\tthis->x = 3;
\t\t\tthis->y = 3;
\t\t\tstd::cout<<x<<" "<<y<<std::endl;
\t\t}
};

`
}

function changeNames(){
	class_name = document.getElementById("classNameText").value
	object_name = document.getElementById("objectNameText").value
	genCode(class_name,object_name)
	rewrite()
}


function rewrite(){
	let mainCode = document.getElementById('mainCode');
	let classCode = document.getElementById('classCode');
	mainCode.textContent = main_libs + main_func;
	classCode.textContent = class_libs + class_def;
}


//genCode(class_name,object_name)
//rewrite()

//rewrite()

</script>



</body>
</html>